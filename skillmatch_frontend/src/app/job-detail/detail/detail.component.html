<app-navbar></app-navbar>

<div class="container mt-5">
  <h2>{{ job?.title }}</h2>
  <p><strong>Company:</strong> {{ job?.company?.name || job?.company }}</p>
  <p><strong>Location:</strong> {{ job?.location }}</p>
  <p><strong>Description:</strong> {{ job?.description }}</p>

  <div class="tags mt-3">
    <span *ngFor="let tag of job?.requiredSkills" class="badge bg-primary me-2">{{ tag }}</span>
  </div>

  <button class="btn btn-success mt-4" (click)="showForm = !showForm">
    {{ showForm ? 'Cancel' : 'Apply Now' }}
  </button>

  <div *ngIf="showForm" class="mt-4">
    <h4>Submit Your Application</h4>
    <form (ngSubmit)="onApply()">
      <div class="mb-3">
        <label for="coverLetter" class="form-label">Cover Letter</label>
        <textarea
          id="coverLetter"
          [(ngModel)]="applicant.coverLetter"
          name="coverLetter"
          class="form-control"
          rows="5"
          required
        ></textarea>
      </div>
      <button type="submit" class="btn btn-primary">Submit Application</button>
    </form>
  </div>
</div>

<app-footer></app-footer>
